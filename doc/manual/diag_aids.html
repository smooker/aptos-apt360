<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>15.2. Diagnostic Aids</title><link rel="stylesheet" href="apt360.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.68.1"><link rel="start" href="index.html" title="APT360 Programmers Manual"><link rel="up" href="diagnostic_procedures.html" title="Chapter 15. Diagnostic Procedures"><link rel="prev" href="diagnostic_procedures.html" title="Chapter 15. Diagnostic Procedures"><link rel="next" href="canon_forms.html" title="Chapter 16. Canonical Forms"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">15.2. Diagnostic Aids</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="diagnostic_procedures.html"><img src="images/prev.gif" alt="Prev"></a> </td><th width="60%" align="center">Chapter 15. Diagnostic Procedures</th><td width="20%" align="right"> <a accesskey="n" href="canon_forms.html"><img src="images/next.gif" alt="Next"></a></td></tr></table><hr></div><div class="sect1" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="diag_aids"></a>15.2. Diagnostic Aids</h2></div></div></div><p>
      The APT processor provides the capability of printing out additional
      information during the translation and arithmetic element phases of
      operation. When an elusive error is found in a part program, it may
      be desirable to rerun the program using such a feature.
    </p><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="debug_kw"></a>15.2.1. The DEBUG Statement</h3></div></div></div><p>
        The DEBUG statement causes the APT processor to print out results of
        intermediate operations in section I (the translation phases).
        Further, if an error is encountered in section II, all of the common
        variables are output at that time. The format of this statement is as
        follows:
      </p><div class="blockquote"><blockquote class="blockquote"><div class="mediaobject"><img src="images/fig15-02-01-1.png"></div></blockquote></div><p>
        When <span class="inlinemediaobject"><img src="images/fig15-02-01-2.png"></span> is specified, the APT processor
        operates under the diagnostic mode for the selected statements in
        both section I and section II. In many instances, it is desirable to
        get these intermediate answers in only one of the phases of the APT
        processor. The second form of the DEBUG is provided for this purpose.
        At the time a <span class="inlinemediaobject"><img src="images/fig15-02-01-3.png"></span> is encountered, the diagnostic
        information is output in the specified section until a 
        <span class="inlinemediaobject"><img src="images/fig15-02-01-4.png"></span> is given for the associated section.
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
          SEC1 specifies section I (the input translator) only, and SEC2
          specifies section II (the arithmetic element) only. If both forms
          have been specified in the part program, the <span class="inlinemediaobject"><img src="images/fig15-02-01-2.png"></span> takes
          precedence; that is, diagnostic information is output in both
          sections.
        </p></td></tr></table></div><p>
        The DEBUG statement will cause the arithmetic element to output any
        error numbers and the associated ISN as they occur. In addition, DYNDMP
        output as described in <a href="diag_aids.html#dyndmp_kw" title="15.2.2. DYNDMP">Section 15.2.2</a> will be printed.
      </p></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="dyndmp_kw"></a>15.2.2. DYNDMP</h3></div></div></div><p>
        The vocabulary word DYNDMP as been included in the vocabulary to
        provide a dynamic dumping capability for use by the system programmer
        at any given installation.
      </p><p>
        The output resulting from the use of the DYNDMP feature can be used to
        trace the flow of calculations through the arithmetic element. In
        addition, if DEBUG/ SECT2, ON is in effect, dyndmp output at the time
        of failure will be given for any arithmetic element error message.
      </p><p>
        DYNDMP output is shown in <a href="diag_aids.html#figure153a" title="Figure 15.2. DYNDMP Output (1 of 4)">Figure 15.2</a> through <a href="diag_aids.html#figure153d" title="Figure 15.5. DYNDMP Output (4 of 4)">Figure 15.5</a>. <a href="diag_aids.html#figure150" title="Figure 15.1. DYNDMP Output Format">Figure 15.1</a> describes the
        format of the output.
      </p><div class="blockquote"><blockquote class="blockquote"><div class="figure"><a name="figure150"></a><p class="title"><b>Figure 15.1. DYNDMP Output Format</b></p><div class="mediaobject"><img src="images/figure150.png" alt="DYNDMP Output Format"></div></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><div class="figure"><a name="figure153a"></a><p class="title"><b>Figure 15.2. DYNDMP Output (1 of 4)</b></p><div class="mediaobject"><img src="images/figure153a.png" alt="DYNDMP Output (1 of 4)"></div></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><div class="figure"><a name="figure153b"></a><p class="title"><b>Figure 15.3. DYNDMP Output (2 of 4)</b></p><div class="mediaobject"><img src="images/figure153b.png" alt="DYNDMP Output (2 of 4)"></div></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><div class="figure"><a name="figure153c"></a><p class="title"><b>Figure 15.4. DYNDMP Output (3 of 4)</b></p><div class="mediaobject"><img src="images/figure153c.png" alt="DYNDMP Output (3 of 4)"></div></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><div class="figure"><a name="figure153d"></a><p class="title"><b>Figure 15.5. DYNDMP Output (4 of 4)</b></p><div class="mediaobject"><img src="images/figure153d.png" alt="DYNDMP Output (4 of 4)"></div></div></blockquote></div><p>
        Section 2.6 in the System/360 APT Numerical Control Processor System
        Manual (360A-CN-10X) contains the dictionary of the symbols that
        appear in the DYNDMP output. <a href="diag_aids.html#figure151" title="Figure 15.6. DYNDMP Symbol Relationships 1">Figure 15.6</a> and <a href="diag_aids.html#figure152" title="Figure 15.7. DYNDMP Symbol Relationships 2">Figure 15.7</a> illustrate some of the useful symbols and
        their relationship to each other. The variable IS is the eighth
        block of data determines the surface with which the processor has most
        currently been working:
      </p><div class="blockquote"><blockquote class="blockquote"><div class="literallayout"><p>IS = 1       Part Surface<br>
IS = 101    Drive Surface<br>
IS = 201    Check Surface<br>
IS = 301    Second Check Surface</p></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><div class="figure"><a name="figure151"></a><p class="title"><b>Figure 15.6. DYNDMP Symbol Relationships 1</b></p><div class="mediaobject"><img src="images/figure151.png" alt="DYNDMP Symbol Relationships 1"></div></div></blockquote></div><div class="blockquote"><blockquote class="blockquote"><div class="figure"><a name="figure152"></a><p class="title"><b>Figure 15.7. DYNDMP Symbol Relationships 2</b></p><div class="mediaobject"><img src="images/figure152.png" alt="DYNDMP Symbol Relationships 2"></div></div></blockquote></div></div><div class="sect2" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="tuneup_kw"></a>15.2.3. TUNEUP</h3></div></div></div><p>
        Three basic tables are used during the translation phase of APT
        processing. The structure of the processor is such that the storage
        required for these tables during the second portion of this phase
        is dynamically allocated; that is, the maximum utilization of the
        aggregate tables is obtained. However, during the initial portion of
        this phase a fixed length for each of the three tables is assumed.
        The nature of certain part programs may be such that the assumed values
        do not permit execution to proceed to successful completion. The
        TUNEUP feature provides the capability of reallocating the storage
        requirements in this initial phase of processing. The format of this
        statement is as follows:
        </p><div class="blockquote"><blockquote class="blockquote"><p>TUNEUP/ I, J, K</p></blockquote></div><p>
        where
        </p><div class="itemizedlist"><ul type="disc"><li><p>I</p><p>The numeric value to be assigned to the VST table</p></li><li><p>J</p><p>The numeric value to be assigned to the PTPP table</p></li><li><p>K</p><p>The numeric value to be assigned to the CANON table</p></li></ul></div><p>
        and
        </p><div class="blockquote"><blockquote class="blockquote"><p>I + J + K must equal 7200</p></blockquote></div><p>
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>
          The TUNEUP card must be specified prior to the usage of a LOOP or the
          definition and/or execution of any macros.
        </p></td></tr></table></div><div class="sect3" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="tuneup_usage"></a>15.2.3.1. Usage of the TUNEUP Feature</h4></div></div></div><p>
          The following represents the printout of a sample table usage during
          the translation phase, as it appears at the beginning of the part
          program listing:
          </p><div class="blockquote"><blockquote class="blockquote"><pre class="screen">
TABLE USAGE DURING INPUT TRANSLATION

                           PASS TWO
       PASS  ONE           DYNAMIC
       ALLOCATED   USED   ALLOCATION
VST       2750      198   VST    229
PTPP      2225     1350   PTPP  1350
CANON     2225      856   SCALARS 41
                          CANON 4580</pre></blockquote></div><p>
        </p><p>
          Assume that error number 12 occurred during the execution of the
          part. This indicates that the PTPP table overflowed during
          processing of the translation phase. Note that the used PTPP figure
          for the initial portion of this phase (Pass One) indicates that only
          1350 of the 2225 storage locations were I actually used. However,
          the error message indicates that the number 2225 was not adequate,
          because a PTPP table was being constructed which required more than
          2225 locations. Since an insufficient amount of storage was needed,
          the PTPP table for this portion of the part program was deleted from
          further processing, The 1350 number represents the largest PTPP
          needed for execution of the rest of the part program. Therefore, a 1
          TUNEUP card is required to reallocate the storage in this area.
        </p></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="diagnostic_procedures.html"><img src="images/prev.gif" alt="Prev"></a> </td><td width="20%" align="center"><a accesskey="u" href="diagnostic_procedures.html"><img src="images/up.gif" alt="Up"></a></td><td width="40%" align="right"> <a accesskey="n" href="canon_forms.html"><img src="images/next.gif" alt="Next"></a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 15. Diagnostic Procedures </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home"></a></td><td width="40%" align="right" valign="top"> Chapter 16. Canonical Forms</td></tr></table></div></body></html>
